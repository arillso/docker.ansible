{
        "$schema": "https://docs.renovatebot.com/renovate-schema.json",
        "extends": ["config:recommended", "config:best-practices"],
        "timezone": "Europe/Zurich",
        "schedule": ["before 5am on friday"],
        "prHourlyLimit": 2,
        "prConcurrentLimit": 10,
        "dependencyDashboard": true,
        "labels": ["dependencies"],
        "updatePinnedDependencies": true,
        "lockFileMaintenance": {
                "enabled": true,
                "schedule": ["before 5am on friday"]
        },
        "packageRules": [
                {
                        "description": "Weekly updates for pip dependencies",
                        "matchManagers": ["pip_requirements", "pip_setup"],
                        "matchUpdateTypes": ["major", "minor", "patch"],
                        "prConcurrentLimit": 10,
                        "reviewers": ["sbaerlocher"],
                        "assignees": ["sbaerlocher"]
                },
                {
                        "description": "Weekly Docker image updates",
                        "matchManagers": ["dockerfile"],
                        "matchUpdateTypes": ["major", "minor", "patch"],
                        "prConcurrentLimit": 10,
                        "reviewers": ["sbaerlocher"],
                        "assignees": ["sbaerlocher"]
                },
                {
                        "description": "Weekly GitHub Actions updates",
                        "matchManagers": ["github-actions"],
                        "matchUpdateTypes": ["major", "minor", "patch"],
                        "prConcurrentLimit": 10,
                        "reviewers": ["sbaerlocher"],
                        "assignees": ["sbaerlocher"]
                },
                {
                        "description": "Weekly updates for Alpine packages in Dockerfile (custom regex)",
                        "matchManagers": ["custom.regex"],
                        "matchDatasources": ["repology"],
                        "matchPackageNames": ["/^alpine_3_21\\//"],
                        "prConcurrentLimit": 10,
                        "reviewers": ["sbaerlocher"],
                        "assignees": ["sbaerlocher"]
                }
        ],
        "customManagers": [
                {
                        "customType": "regex",
                        "fileMatch": ["^Dockerfile$"],
                        "matchStrings": [
                                "(?:RUN\\s+(?:apk update\\s+&&\\s+)?apk add --no-cache\\s+|\\\\\\s+)(?<depName>[a-z][a-z0-9-]*)(=(?<currentValue>[a-zA-Z0-9-._]+))?"
                        ],
                        "versioningTemplate": "loose",
                        "datasourceTemplate": "repology",
                        "packageNameTemplate": "alpine_3_21/{{depName}}"
                }
        ]
}
